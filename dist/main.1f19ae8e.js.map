{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","logotype","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","toUpperCase","Text","onbeforeunload","string","stringify","setItem","document","key","i","length","toLowerCase"],"mappings":"AACA,IAAMA,SAAS,GAAGC,CAAC,aAAnB;AACA,IAAMC,OAAO,GAAGF,SAAS,CAACG,IAAV,CAAe,SAAf,CAAhB;AACA,IAAMC,CAAC,GAAGC,YAAY,CAACC,OAAb,CAAqB,GAArB,CAAV;AACA,IAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWL,CAAX,CAAhB;AAEA,IAAMM,OAAO,GAAGH,OAAO,IAAI,CACvB;AAACI,EAAAA,IAAI,EAAC,GAAN;AAAWC,EAAAA,QAAQ,EAAC,MAApB;AAA4BC,EAAAA,GAAG,EAAC;AAAhC,CADuB,EAEvB;AAACF,EAAAA,IAAI,EAAC,GAAN;AAAUC,EAAAA,QAAQ,EAAC,MAAnB;AAA2BC,EAAAA,GAAG,EAAC;AAA/B,CAFuB,CAA3B;;AAMA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACD,GAAD,EAAQ;AAAI;AAC5B,SAAOA,GAAG,CAACE,OAAJ,CAAY,UAAZ,EAAuB,EAAvB,EACNA,OADM,CACE,SADF,EACY,EADZ,EAENA,OAFM,CAEE,MAFF,EAES,EAFT,EAGNA,OAHM,CAGG,MAHH,EAGU,EAHV,CAAP,CADwB,CAIA;AAC3B,CALD;;AAMA,IAAMC,MAAM,GAAC,SAAPA,MAAO,GAAK;AACdhB,EAAAA,SAAS,CAACG,IAAV,CAAe,eAAf,EAAgCc,MAAhC,GADc,CAC4B;;AAC1CP,EAAAA,OAAO,CAACQ,OAAR,CAAgB,UAACC,IAAD,EAAMC,KAAN,EAAe;AAAG;AAC/B;AACC,QAAMC,GAAG,GAAGpB,CAAC,6FAGWkB,IAAI,CAACR,IAHhB,qDAIWG,WAAW,CAACK,IAAI,CAACN,GAAN,CAJtB,sOAAD,CAYXS,YAZW,CAYEpB,OAZF,CAAZ;AAcJmB,IAAAA,GAAG,CAACE,EAAJ,CAAO,OAAP,EAAe,YAAK;AAChBC,MAAAA,MAAM,CAACC,IAAP,CAAYN,IAAI,CAACN,GAAjB,EADgB,CACQ;AAC3B,KAFD;AAGAQ,IAAAA,GAAG,CAACE,EAAJ,CAAO,OAAP,EAAe,QAAf,EAAwB,UAACG,CAAD,EAAK;AACzBA,MAAAA,CAAC,CAACC,eAAF,GADyB,CACC;AAC3B;;AACCjB,MAAAA,OAAO,CAACkB,MAAR,CAAeR,KAAf,EAAqB,CAArB;AACAJ,MAAAA,MAAM,GAJmB,CAIf;AACb,KALD;AASC,GA5BD;AA6BH,CA/BD;;AAiCAA,MAAM;AAENf,CAAC,CAAC,YAAD,CAAD,CAAgBsB,EAAhB,CAAmB,OAAnB,EAA4B,YAAI;AAC3B;AACD,MAAIV,GAAG,GAAGW,MAAM,CAACK,MAAP,CAAc,QAAd,CAAV;;AACA,MAAGhB,GAAG,CAACiB,OAAJ,CAAY,MAAZ,MAAsB,CAAzB,EAA2B;AACvBjB,IAAAA,GAAG,GAAG,aAAWA,GAAjB;AACH;;AACDH,EAAAA,OAAO,CAACqB,IAAR,CAAa;AACTpB,IAAAA,IAAI,EAAEG,WAAW,CAACD,GAAD,CAAX,CAAiB,CAAjB,CAAD,CAAsBmB,WAAtB,EADI;AACoC;AAC7CpB,IAAAA,QAAQ,EAACqB,IAFA;AAGTpB,IAAAA,GAAG,EAACA;AAHK,GAAb;AAKAG,EAAAA,MAAM;AACT,CAZD,GAeA;;AACAQ,MAAM,CAACU,cAAP,GAAwB,YAAK;AACzB,MAAMC,MAAM,GAAG3B,IAAI,CAAC4B,SAAL,CAAe1B,OAAf,CAAf;AACAL,EAAAA,YAAY,CAACgC,OAAb,CAAqB,GAArB,EAAyBF,MAAzB;AACH,CAHD;;AAKAlC,CAAC,CAACqC,QAAD,CAAD,CAAYf,EAAZ,CAAe,UAAf,EAA0B,UAACG,CAAD,EAAM;AAC5B,MAAOa,GAAP,GAAcb,CAAd,CAAOa,GAAP;;AACA,OAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC9B,OAAO,CAAC+B,MAAtB,EAA6BD,CAAC,EAA9B,EAAiC;AAC7B,QAAG9B,OAAO,CAAC8B,CAAD,CAAP,CAAW7B,IAAX,CAAgB+B,WAAhB,OAAkCH,GAArC,EAAyC;AACrCf,MAAAA,MAAM,CAACC,IAAP,CAAYf,OAAO,CAAC8B,CAAD,CAAP,CAAW3B,GAAvB;AACH;AACJ;AAEJ,CARD","file":"main.1f19ae8e.js","sourceRoot":"..\\src","sourcesContent":["\r\nconst $siteList = $(`.siteList`)\r\nconst $lastLi = $siteList.find('li.last')\r\nconst x = localStorage.getItem('x')\r\nconst xObject = JSON.parse(x)\r\n\r\nconst hashMap = xObject || [\r\n    {logo:'A', logotype:'text', url:'https://www.acfun.cn'},\r\n    {logo:'B',logotype:'text', url:'https://www.bilibili.com'},\r\n\r\n]\r\n\r\nconst simplifyUrl = (url) =>{   //简化显示的url\r\n    return url.replace('https://','') \r\n    .replace('http://','')\r\n    .replace('www.','')\r\n    .replace( /\\/.*/,'')    //(正则表达式)删除/开头后面的内容\r\n}\r\nconst render=()=> {\r\n    $siteList.find('li:not(.last)').remove()  //每次添加新卡片，先删除之前的网址，然后重新渲染一次\r\n    hashMap.forEach((node,index) =>{  //将用户输入的网址变成一个卡片\r\n       // console.log(index)\r\n        const $li = $(`\r\n        <li>\r\n            <div class=\"site\">\r\n            <div class=\"logo\">${node.logo}</div>\r\n            <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n            <div class=\"close\">\r\n                <svg class=\"icon\">\r\n                <use xlink:href=\"#icon-shanchu\"></use>\r\n                </svg>\r\n            </div>\r\n            </div>\r\n        </li>\r\n      `).insertBefore($lastLi)  \r\n\r\n    $li.on('click',() =>{\r\n        window.open(node.url)   //用js控制代替a标签，用a标签无法阻止冒泡\r\n    })\r\n    $li.on('click','.close',(e)=>{\r\n        e.stopPropagation()       //阻止冒泡\r\n       // console.log(hashMap)\r\n        hashMap.splice(index,1)\r\n        render()  //删除后从新渲染hashMap\r\n    })\r\n\r\n\r\n\r\n    })\r\n}\r\n\r\nrender()\r\n\r\n$('.addButton').on('click', ()=>{\r\n     //让用户增加网址，并纠错\r\n    let url = window.prompt('请输入网址：')\r\n    if(url.indexOf('http')!==0){\r\n        url = 'https://'+url\r\n    }\r\n    hashMap.push({\r\n        logo:(simplifyUrl(url)[0]).toUpperCase(),    //将logo变为大写字母\r\n        logotype:Text,\r\n        url:url,\r\n    })\r\n    render()\r\n});\r\n\r\n\r\n//用户关闭网址时，将地址自动保存到localStorage\r\nwindow.onbeforeunload = () =>{\r\n    const string = JSON.stringify(hashMap)\r\n    localStorage.setItem('x',string)  \r\n}\r\n\r\n$(document).on('keypress',(e) =>{\r\n    const {key} = e\r\n    for(let i=0;i<hashMap.length;i++){\r\n        if(hashMap[i].logo.toLowerCase() === key){\r\n            window.open(hashMap[i].url)\r\n        }\r\n    }\r\n\r\n})\r\n"]}